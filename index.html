<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ | Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø´ÙˆÙƒØ§Ù†ÙŠ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ù…Ø°Ù†Ø¨</title>

  <!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¬Ù…ÙŠÙ„ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#061b2c;
      --bg2:#0b2c44;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.14);
      --text:#eef6ff;
      --muted: rgba(238,246,255,.72);
      --accent:#38bdf8;   /* Ø³Ù…Ø§ÙˆÙŠ */
      --accent2:#fbbf24;  /* Ø°Ù‡Ø¨ÙŠ */
      --ok:#22c55e;
      --danger:#ef4444;
      --shadow: 0 18px 50px rgba(0,0,0,.35);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      min-height:100vh;
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(56,189,248,.22), transparent 55%),
        radial-gradient(1000px 600px at 90% 30%, rgba(251,191,36,.18), transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    .wrap{
      width:min(1080px, 92vw);
      margin: 28px auto 22px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding: 16px 18px;
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }

    .topbar::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(700px 260px at 35% 10%, rgba(56,189,248,.18), transparent 55%),
                  radial-gradient(700px 260px at 75% 15%, rgba(251,191,36,.14), transparent 60%);
      pointer-events:none;
      filter: blur(6px);
      opacity:.9;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      position:relative;
      z-index:1;
    }

    .logos{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      background: rgba(0,0,0,.12);
    }

    .logo{
      width:46px; height:46px;
      border-radius: 14px;
      background: rgba(255,255,255,.12);
      display:grid;
      place-items:center;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
    }

    .logo img{ width:100%; height:100%; object-fit:contain; padding:6px; background:#fff; }

    .titles{
      display:flex;
      flex-direction:column;
      gap:4px;
      line-height:1.25;
    }

    .titles .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      color: var(--muted);
      font-weight:500;
      font-size: 14px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.14);
      font-size: 13px;
      color: rgba(238,246,255,.82);
      white-space:nowrap;
    }

    .dot{
      width:8px; height:8px;
      border-radius:999px;
      background: var(--ok);
      box-shadow: 0 0 0 6px rgba(34,197,94,.12);
    }

    h1{
      margin:0;
      font-size: 22px;
      font-weight: 800;
      letter-spacing: .2px;
    }

    .subtitle{
      margin:0;
      color: var(--muted);
      font-size: 15px;
      font-weight: 500;
    }

    .meta{
      position:relative;
      z-index:1;
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:8px;
      text-align:left;
    }

    .meta .school{
      font-weight: 800;
      font-size: 15px;
      color: rgba(238,246,255,.92);
    }
    .meta .director{
      font-weight: 600;
      font-size: 14px;
      color: rgba(238,246,255,.75);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      align-items:stretch;
    }

    @media (max-width: 900px){
      .grid{ grid-template-columns: 1fr; }
      .meta{ align-items:flex-start; text-align:right; }
    }

    .card{
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .cardHead{
      padding: 16px 18px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .cardHead .title{
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .cardHead .title strong{
      font-size: 16px;
      font-weight: 800;
    }
    .cardHead .title span{
      font-size: 13px;
      color: var(--muted);
      font-weight: 500;
    }

    .badge{
      padding: 8px 10px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      font-size: 13px;
      color: rgba(238,246,255,.78);
      white-space:nowrap;
    }

    .chat{
      padding: 14px 16px 16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      height: 520px;
    }

    .messages{
      flex:1;
      overflow:auto;
      padding: 10px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
    }

    .msg{
      display:flex;
      gap:10px;
      margin: 10px 0;
      align-items:flex-start;
    }

    .avatar{
      width:38px; height:38px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.10);
      display:grid;
      place-items:center;
      font-weight: 900;
      color: rgba(238,246,255,.9);
      flex: 0 0 auto;
    }

    .bubble{
      max-width: 92%;
      padding: 12px 14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      line-height: 1.75;
      font-weight: 500;
      color: rgba(238,246,255,.95);
      white-space: pre-wrap;
    }

    .user .bubble{
      background: linear-gradient(180deg, rgba(56,189,248,.20), rgba(56,189,248,.10));
      border-color: rgba(56,189,248,.28);
    }

    .ai .bubble{
      background: linear-gradient(180deg, rgba(251,191,36,.16), rgba(255,255,255,.06));
      border-color: rgba(251,191,36,.22);
    }

    .composer{
      display:flex;
      gap:10px;
      align-items:stretch;
    }

    textarea{
      width:100%;
      resize:none;
      min-height: 52px;
      max-height: 140px;
      padding: 12px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: var(--text);
      outline:none;
      font-family: inherit;
      font-size: 15px;
      line-height: 1.5;
    }

    textarea::placeholder{ color: rgba(238,246,255,.55); }

    button{
      border:0;
      border-radius: 16px;
      padding: 0 16px;
      font-family: inherit;
      font-weight: 800;
      cursor:pointer;
      background: linear-gradient(135deg, var(--accent), rgba(56,189,248,.65));
      color: #012033;
      min-width: 120px;
      box-shadow: 0 12px 30px rgba(56,189,248,.18);
      transition: transform .08s ease;
    }
    button:active{ transform: scale(.98); }
    button:disabled{
      opacity:.55;
      cursor:not-allowed;
    }

    .side{
      padding: 16px 18px 18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .panel{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.10);
      border-radius: 18px;
      padding: 14px 14px;
    }

    .panel h3{
      margin:0 0 8px;
      font-size: 15px;
      font-weight: 900;
    }
    .panel p{
      margin:0;
      color: var(--muted);
      line-height: 1.7;
      font-weight: 500;
      font-size: 14px;
    }

    .tips{
      display:grid;
      gap:8px;
      margin-top: 10px;
    }
    .tip{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding: 10px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: rgba(238,246,255,.86);
      font-size: 14px;
      line-height: 1.65;
    }
    .tip b{ color:#fff; }

    .footer{
      text-align:center;
      color: rgba(238,246,255,.68);
      font-weight: 600;
      font-size: 13px;
      padding: 6px 10px 18px;
    }

    .small{
      font-size: 13px;
      color: rgba(238,246,255,.70);
      font-weight: 600;
    }

    .typing{
      display:inline-flex;
      gap:6px;
      align-items:center;
    }
    .typing i{
      width:6px;height:6px;border-radius:999px;
      background: rgba(255,255,255,.75);
      display:inline-block;
      animation: bounce 1.1s infinite ease-in-out;
      opacity:.85;
    }
    .typing i:nth-child(2){ animation-delay:.15s;}
    .typing i:nth-child(3){ animation-delay:.3s;}
    @keyframes bounce{
      0%, 80%, 100%{ transform: translateY(0); opacity:.55; }
      40%{ transform: translateY(-5px); opacity:1; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="topbar">
      <div class="brand">
        <div class="logos">

          <!-- Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±) -->
          <div class="logo" title="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
            <img src="https://i.postimg.cc/vHs9bTRM/O-U-O-U-U-O-U-U-3.png" alt="Ø´Ø¹Ø§Ø± Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø´ÙˆÙƒØ§Ù†ÙŠ">
          </div>

          <!-- Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±) -->
          <div class="logo" title="Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…">
            <img src="https://i.postimg.cc/9XGR82DL/sh%CA%BFar-wzart-alt%CA%BFlym-aljdyd-1442-bdwn-khlfyt.png" alt="Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…">
          </div>

        </div>

        <div class="titles">
          <div class="kicker">
            <span class="pill"><span class="dot"></span> Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</span>
            <span class="pill">ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
          </div>
          <h1>Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨</h1>
          <p class="subtitle">Ø§Ø³Ø£Ù„ Ø¹Ù† Ø­Ù„ Ù…Ø³Ø£Ù„Ø© Ø£Ùˆ Ø§Ø·Ù„Ø¨ Ø´Ø±Ø­Ù‹Ø§ Ù…Ø¨Ø³Ø·Ù‹Ø§ Ù„Ø£ÙŠ Ù…ÙˆØ¶ÙˆØ¹ â€” ÙˆØ³ØªØµÙ„Ùƒ Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ø¶Ø­Ø© Ù…Ø¹ Ù…Ø«Ø§Ù„.</p>
        </div>
      </div>

      <div class="meta">
        <div class="school">Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø´ÙˆÙƒØ§Ù†ÙŠ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ù…Ø°Ù†Ø¨</div>
        <div class="director">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: ØªÙˆÙÙŠÙ‚ Ø¨Ù† Ù†Ø§ØµØ± Ø§Ù„Ø¹Ù‚ÙŠÙ„ÙŠ</div>
        <div class="small">ØªÙ… ØªÙ†ÙÙŠØ°Ù‡ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù…Ù† ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</div>
      </div>
    </div>

    <div class="grid">
      <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
      <div class="card">
        <div class="cardHead">
          <div class="title">
            <strong>Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯</strong>
            <span>Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø¨ÙˆØ¶ÙˆØ­â€¦ Ù…Ø«Ø§Ù„: â€œØ§Ø´Ø±Ø­ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ù‚ØµÙˆØ± Ø¨Ø§Ø®ØªØµØ§Ø± Ù…Ø¹ Ù…Ø«Ø§Ù„â€.</span>
          </div>
          <div class="badge">ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© â€¢ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø®ØªØµØ±Ø© + Ù…Ø«Ø§Ù„</div>
        </div>

        <div class="chat">
          <div class="messages" id="messages" aria-live="polite"></div>

          <div class="composer">
            <textarea id="q" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§â€¦"></textarea>
            <button id="send">Ø¥Ø±Ø³Ø§Ù„</button>
          </div>
        </div>
      </div>

      <!-- Ù„ÙˆØ­Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© -->
      <div class="card">
        <div class="cardHead">
          <div class="title">
            <strong>Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø©</strong>
            <span>Ù„ØªÙƒÙˆÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø£Ø¯Ù‚ ÙˆØ£Ø³Ø±Ø¹</span>
          </div>
          <div class="badge">ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ</div>
        </div>

        <div class="side">
          <div class="panel">
            <h3>ÙƒÙŠÙ ØªØ³Ø£Ù„ØŸ</h3>
            <p>Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙƒØ§Ù…Ù„Ù‹Ø§ØŒ ÙˆØ­Ø¯Ø¯ Ø§Ù„ØµÙ Ø£Ùˆ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª. Ø§Ø·Ù„Ø¨ â€œØ´Ø±Ø­ Ù…Ø¨Ø³Ø· + Ù…Ø«Ø§Ù„â€ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©.</p>

            <div class="tips">
              <div class="tip"><b>Ù…Ø«Ø§Ù„ 1:</b> Ø§Ø´Ø±Ø­ ÙƒØ§Ù† ÙˆØ£Ø®ÙˆØ§ØªÙ‡Ø§ Ø¨Ø§Ø®ØªØµØ§Ø± Ù…Ø¹ Ù…Ø«Ø§Ù„.</div>
              <div class="tip"><b>Ù…Ø«Ø§Ù„ 2:</b> Ø­Ù„ Ù…Ø³Ø£Ù„Ø©: Ù£/Ù¤ + Ù¡/Ù¨ Ù…Ø¹ Ø®Ø·ÙˆØ§Øª.</div>
              <div class="tip"><b>Ù…Ø«Ø§Ù„ 3:</b> Ù…Ø§ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ù‚ØµÙˆØ± ÙˆØ§Ù„Ù…Ù†Ù‚ÙˆØµØŸ</div>
            </div>
          </div>

          <div class="panel">
            <h3>ØªÙ†ÙÙŠØ° Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</h3>
            <p>ØªÙ… ØªÙ†ÙÙŠØ°Ù‡ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù…Ù† ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…Ù‚Ø±Ù† Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      Â© 2026 â€” Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø´ÙˆÙƒØ§Ù†ÙŠ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¨Ø§Ù„Ù…Ø°Ù†Ø¨ â€¢ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
    </div>

  </div>

  <script>
    // âœ… Ø±Ø§Ø¨Ø· Ø§Ù„Ù€Worker (ÙˆÙˆØ±ÙƒØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ)
    const AI_ENDPOINT = "https://restless-rain-c0e8.aass-2008.workers.dev";

    const elMessages = document.getElementById("messages");
    const elQ = document.getElementById("q");
    const elSend = document.getElementById("send");

    function addMessage(role, text, isTyping=false){
      const row = document.createElement("div");
      row.className = "msg " + (role === "user" ? "user" : "ai");

      const avatar = document.createElement("div");
      avatar.className = "avatar";
      avatar.textContent = role === "user" ? "Ø·" : "Ø°";

      const bubble = document.createElement("div");
      bubble.className = "bubble";

      if(isTyping){
        bubble.innerHTML = `<span class="typing"><i></i><i></i><i></i></span> Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©â€¦`;
        bubble.dataset.typing = "1";
      }else{
        bubble.textContent = text;
      }

      row.appendChild(avatar);
      row.appendChild(bubble);
      elMessages.appendChild(row);
      elMessages.scrollTop = elMessages.scrollHeight;
      return bubble;
    }

    function setBusy(busy){
      elSend.disabled = busy;
      elQ.disabled = busy;
    }

    // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
    addMessage("ai", "Ù…Ø±Ø­Ø¨Ù‹Ø§ ğŸ‘‹\nØ§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„ÙƒØŒ ÙˆØ³Ø£Ø¹Ø·ÙŠÙƒ Ø´Ø±Ø­Ù‹Ø§ Ù…Ø¨Ø³Ø·Ù‹Ø§ Ù…Ø¹ Ù…Ø«Ø§Ù„ ÙˆØ§Ø­Ø¯.");

    async function ask(){
      const q = (elQ.value || "").trim();
      if(!q) return;

      addMessage("user", q);
      elQ.value = "";

      const typingBubble = addMessage("ai", "", true);
      setBusy(true);

      try{
        // âœ… ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ù‡Ù…Ø© Ù„Ù…Ù†Ø¹ Bad Request
        const res = await fetch(AI_ENDPOINT, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json"
          },
          body: JSON.stringify({ question: q })
        });

        const data = await res.json().catch(() => ({}));

        // Ù„Ùˆ Ø§Ù„Ù€Worker Ø±Ø¬Ù‘Ø¹ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­
        if(!res.ok){
          const msg = data?.error || ("HTTP " + res.status);
          throw new Error(msg);
        }

        // Ù†Ø¬Ø§Ø­
        typingBubble.textContent = data.answer || "Ù„Ù… ØªØµÙ„ Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø¢Ù†.";
        delete typingBubble.dataset.typing;

      }catch(err){
        typingBubble.textContent =
          "ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¢Ù†.\n" +
          "ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ø§Ø¨Ø· Ø§Ù„Ù€Worker ÙˆØ£Ù† Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø¶Ø§Ù ÙƒÙ€ Secret.\n" +
          "ØªÙØ§ØµÙŠÙ„: " + (err?.message || err);
      }finally{
        setBusy(false);
        elQ.focus();
        elMessages.scrollTop = elMessages.scrollHeight;
      }
    }

    elSend.addEventListener("click", ask);
    elQ.addEventListener("keydown", (e) => {
      if(e.key === "Enter" && !e.shiftKey){
        e.preventDefault();
        ask();
      }
    });
  </script>
</body>
</html>
